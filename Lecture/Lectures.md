# Lectures TOC:
  - [1](https://github.com/scottx611x/CSCI-S-40/blob/master/Lecture/Lectures.md#lecture-1)
  - [2](https://github.com/scottx611x/CSCI-S-40/blob/master/Lecture/Lectures.md#lecture-2)
  - [3](https://github.com/scottx611x/CSCI-S-40/blob/master/Lecture/Lectures.md#lecture-3)
  - [4](https://github.com/scottx611x/CSCI-S-40/blob/master/Lecture/Lectures.md#lecture-4)
  - [5](https://github.com/scottx611x/CSCI-S-40/blob/master/Lecture/Lectures.md#lecture-5)
  - [6](https://github.com/scottx611x/CSCI-S-40/blob/master/Lecture/Lectures.md#lecture-6)
  - [Section 2](https://github.com/scottx611x/CSCI-S-40/blob/master/Lecture/Lectures.md#section-2)
  - [7](https://github.com/scottx611x/CSCI-S-40/blob/master/Lecture/Lectures.md#lecture-7)
  - [8](https://github.com/scottx611x/CSCI-S-40/blob/master/Lecture/Lectures.md#lecture-8)
  - [Section 3](https://github.com/scottx611x/CSCI-S-40/blob/master/Lecture/Lectures.md#section-3)


## Lecture 1

- Internet 2 (For research purposes)
- NOC (Network operations Center)
- PS (Packet Switch i.e. Router i.e. Gateway i.e. Layer 3 Switch)
- Evolution of Network Technology:
  - Transmission:
    - "Sneaker Net" (Disk, USB, DVD etc.)
    - Electrical
    - Radio
    - Optical
  - Multiplexing:
  	- "Sharing a communication channel in a specific manner"
  	- Three Forms:
  		- Time division (Slotted & Statistical)
  		- Frequency divsion
  		- Optical division
  - Switching:
  	- Circuit Switching (think old school patch panel operator)
  	- Packet Switching (Relies on Multiplexing to operate)
  - Interfaces & Protocols
  - Network Management
  - Network Applications
- Error Rates:
  - Wireless < Copper < Fiber
- When are packet transmission errors indicated:
  - At the Software layer. The hardware layer may drop a packet  but its not until the software sees the missing packet that an error can be indicated.
- Layering:
	- The internet model (5 Layers)
	- Used to be the OSI model
	- Different layers may repeat functionality (error detection, encapsulation, addressing etc.)
	- Layers are:
    - Application
    - Transport
    - Internet (Network)
    - Link (Network Interface/Data Link)
    - Physical
- Reliability:
  - **Error Detection vs error correction (big diff Prof made note!)**

## Lecture 2

- "Good news theres lots of standards, bda news theres lots of standards"
- Mesh Network:
  - Separating the host from the network
  - Each device in a network needs an address and its likely that they'll need more than one address
   - Local and global significance (think a cellphone: has a phone number and a serial number) 
- Defining Protocols (SP3 approach):
 - Service Definition (What do I want to accomplish) i.e. a reliable, sequenced transfer
 - Purpose of the Protocol
  - list the functionality that needs to be implemented (flow control, fragmentation, reassembly, error control)
 - How do I handle this functionality in the header?
 - Procedures
  - PROBE packet example
  - most complex part of a protocol design
  - 80% of design is procedural and error handling
- Error Control is needed for daata transfer errors and procedural errors
- If a checksum is incorrect the entire "bundle of bits" is discarded
- Sophistication usually leads to efficiency


## Lecture 3

- 5 Layer Model is really important
- LAN: A network that takes up some limited geography
- A LAN is not a topology
- LAN vs WAN
- LAN: low delay, high bandwith, broadcast
- WAN: pay for bandwith by the month, relatively low bandwith
- Ethernet has many different forms
- ALOHA Protocol from the 70's in Hawaii
  - "How do multiple users share a single resource?"
  - "How do you share a channel in a distributed decentralized fashion?" 
- CSMACD
- Ethernet is an unreliable protocol
  - Error detection and not error correction
- Ethertype Field to aid the recieving system in what to do with the bundle of bits
- Ethernet vs 802.3
- **Expected to be able to draw an ethernet frame!** 48:00 into lecture
- Multicast: A subset of devices on the network should be targeted (Target all printers)
- Vendor address at the Ethernet level (Ethernet address, MAC address) helps within the LAN for one device to find another quickly. No two devices should have the same address, but it has no routing information associated. ("Flat address")
- Layer 2 is also the Ethernet layer/MAC layer 
- "Sharing at the Trunk" Sharing at the switch level
- Ethernet switch has a frame forwarding table just built off of layer 2 information
- POE utilizes the unused (4 middle) wires in the RJ45
 - Inbound (left 2 wires) outbound (right 2 wires)
 - Full Duplex: send and recieve information at the same time over inbound and outbound wires
 - Half Duplex: Send OR Recieve (only one at a time) over these wires
 - Duplexing software misconfigurations still happen today!!!
- MLAB: a network diagnostic tool
- 802.11
 - Two Flavors (from a topology standpoint):
  - Infrastructure network: Multiple devices talk to a wireless access point which then has an upstream connection
  - AdHoc Network: Just amongst the devices
- QUIZ QUESTIONS:
 - False: Wireless networks have better error performance than wired networks
- Different frame format: Includes management and control protocols (which 802.3 doesn;t include)
- CSMACA: different protocol for wireless
- Each new iteration of wireless (g -> n -> a/c) has better speed and error performance
- They get better performance by using different modulation techniques or by using more bandwith (i.e. a wider radio frequncy)
- Higher freq. means shorter transmission distance

## Lecture 4:

- ARP takes advantage of the broadcasting nature of ethernet
- Some home networking all in ones devices encapsulate a router, switch, modem and firewall
- 20-30% Network utilization is good, once it creeps around 60% you may want to think about a redesign  
- The bigger ethernet network is a broadcast domain
- A cable uplink to a switch is a collision domain, and a switch port is a separate collision domain
- Ethernet futures:
 - Most successful network
 - Certain characteristics for ethernet based off of industry
  - for ISPs, Datacenters, Schools etc.
  - If you are in a particular industry you will see specific Ethernet implementations than the norm (what we've learned so far)  
   - Ethernet for automotive environments is a good example of this (better connectors, less wires in cable etc)
- IP:
 - IP vs. Internet which came first? IP did! It was the building block that made the internet possible!
 - Provides: addressing, routing, fragmentation, multiplexing (based on protocol type field in header, and QOS marking  (lecture 4 1:09)
- CATENET: was the original name for the Internet topology
- QUIZ QUESTION: The Internet is a network of networks true or false? -> TRUE
- IP provides a limited number of common services but they are the same for every computer that connects to the internet
 - Addressing and Routing
- Internet Exchange Points: FIX/MAE
- Once you say a protocol is reliable it gets complicated (Sequence numbers etc.) TCP takes care of this for IP. IP itself is not reliable
- Unreliable Protocol: Error detection but not error correction
- "Datagram" is synonomous with Unreliable
- IPV6 Does not add any reliability
- IP can run over WAN/LAN/Wireless basically over almost anything! (Carrier pigeons included :D )
- IP is a globally unique addressing scheme that allows for routing based on that addressing
- Nowadays we want to have the ability to separate the host portion from the network portion for any 32 bit IP address
 - This is called CIDR notation. /15 means that the first 15 bits of the 32 are reserved for the host #
- SP3
 - Service
 - Purpose
 - Packet
 - Procedure
- IP packet header is of variable length so the IP packet has a header length field
- Every protocol that we study has a field in the header that identifies what the payload contains
 - For IP this could be TCP, UDP, UCMP (This is an example of logical multiplexing)
- MTU 1518 bytes for the maximum size of an ethernet packet
- IPv4 headers are 20 bytes long at a minimum, IPv6 is longer due to longer addresses
- Some specialized networks can support larger or smaller ethernet packet sizes
- IP handles fragmentation and reassembly
 - fragmentation splits packets into smaller frames and reassembly puts them back together
- There are advantages to using a MAC addres to delviering a packet to a host vs IP address
- ARP helps map IP addresses to MAC/Ethernet addresses
 - ARP frame is sent out (broadcast) "Who has IP: xxx.xxx.xxx.xxx"
 - Machine with said IP will respond with: "That's Me! Also, here is my MAC address"
 - IP Datagram can then be sent to the proper machine
- `arp -a`
- IP Addressing:
 - To the outside world the host portion of the address is known through /XX in CIDR
 - The inside world (sub nets) hosts know through subnet masks
- IETF working documents for protocols are called IDs (Internet Drafts)
 - If there is a lot of interest then it will move to an RFC
  - This then moves to a Proposed Standard 
  - If it becomes widely adopted and well documented it can become an internet standard

## Lecture 5:

- Broadcasts do not pass router boundaries
- Routers:
 - Operate at layer 3
 - Multiple collision and broadcast domains
 - Limit broadcasts to whichever side of the router that the broadcast is on
 - End stations send packets to the router only if they need to leave the local network
- From an administrative standpoint Ethernet switching is easy compared to routing. "Switch when you can, route when you must"
- A router forwards packets based on some information about the "next best hop"
- All routers in a network talk to eachother and share routing table information
- **Two network routing behavior** (lecture 5 33:00)
- How does the "Hop Count" work?
- After a packet enters a router, it exits with a new Ethernet header. Destination MAC and Source MAC will change (Source now being the MAC of the router) among some other fields.
- Router forwarding tables are really important
- RIPv2 (Distance Vector): A routing protocol that counts hops to measure efficiency of a given route. Populates routing table with the most efficient routes.
 - Lacks efficiency when router/link hardware comes into play
- OSPF (Open Shortest Path First) (Link State): A routing protocol that takes into account routing hardware and link speed/bandwith (Complex cost function for links managed by network administrators w/ vendor input)
- A routing table for a given routing (at the beginning) sends out information about the networks/other routers it is directly connected to (lecture 5 1:18)
- VLANS:
 - Users/Hosts are assigned to a specific IP Network regardless of the ethernet switch or ethernet switch port they are physically connected to
 - Think of this as an administrative overlay to a given switch 
 - One switch can support multiple subnets
- QUIZ question (answer): The clients/users in a VLAN have no idea that they are in a VLAN vs. directly connected to a switch/router 
- 802.1q VLAN Protocol
 - Added the TAG field to the Ethernet frame
  - VLANS are identified by a 12 bit VLAN id here
- One router port assigned to a VLAN (lecture 5 1:47:53)
- Another possibility would be to assign VLAN based on MAC address
- 802.1p Ethernet Priority Protocol
 - 3 bits
 - Not widely used
- In networking there are only a handful of really good ideas: Muxing, VLANs. 
- VXLAN really extendes VLAN and provides DataCenter scale support (12 bits wasn't enough)
- Some last questions about VLANS
 - A VLAN can span multiple sites (buildings on a campus)
 - There is no best way to assign users, but there are multiple ways (MAC, Router port, etc)
 - A client machine has no clue its on a VLAN
 - Users on different VLANS talk to each other through the routers

## Lecture 6:

**YOU MISSED THE BEGINING OF THIS LECTURE**

- Should be able to complete a basic RIP based routing table
- VLANS do at level 2 what previously would have had to been done at level 3
- IANA: Assigns IP addresses
 - Keeps track of all of the IPv4 & IPv6 addresses
- ARIN
- `whois` 
- Secondary market for ipv4 blocks
- CIDR alleviated some addressing concerns:
 - Lack of address blocks
 - Better routing tables
- Private IP addresses
- Autonomous Systems, ASNs, and routing
- 4 billion ip addresses out there currently and 800,000 (IPv4) network prefixes being used
- **Know how to fill in RIPv2 table**
- ASN (Autonomous System Number):
 - Allows for grouping of networks
 - ~ 70,000 out there
- AS (autonomous System) A group of routers managed by a single organization
- example: RCN has an ASN and hundreds of networks (Prefixes) that they manage
- OSPF and RIPv2 are used within a particular network
- IGP (interior gateway protocols) vs EGP (Exterior Gateway Protocols)
 - IGP used to exchange routing information (populate routing tables) within an Autonomous System (AS)
  - RIPv2 & OSPF are examples
 - EGP are used to advertise and manage routes between AS
  - BGPv4 (Border Gateway Protocol) is an example of this
- bgp.he.net
- A prefix identifies one network within an AS
- Internet Exchange Points:
 - There are thousands of ISPs in the country. There would be a huge(r) spaghetti mess of networking without IEPs
 - Companies today that offer internet service to ISPs
- Be able to explain IGP & EGP usage of an Edge Router
- RIPE NCC is another good site for tools around AS
- BOGON: Mis-advertised (non-allocated) AS prefixes 
- IPV6: (because we ran out of IPv4 assingable blocks):
 - IPv5 existed (research only)
 - Not our first IP transition: NCP -> IPv4 in 1982
 - 128 bit address vs 32 bit in ipv4
 - Simplified header format
 - Better support for options and extensions
 - Capability for flow labelling is added
 - Added authentication and privacy capabilities
 - Good comparison at (lecture 6 1:23:11)
 - leading `0`s in each 16 portion get collapsed
 - IPv6 address dissection (lecture 6 1:28:21)
 - "Private IP" -> Link Local in IPv6
 - FE80:::: is a link local address
 - IPv6 multicast address is much less invasive than IPv4 broadcasting
 - can `whois` an IPv6 Address
- What does it mean for an org. to be on IPv6?
 - Does a Ethernet switch need to support IPv6? 
  - Yes! Most devices need to! (See dual-stack)
 
 ## Section 2:
 - Switch Table Failure Cases/ Switch Table diagram: Section 2 (5:35)
   - Ethernet broadcast/Multicast addresses
   - When a switch table is empty a broadcast will always be sent out to populate
   - Newly plugged in devices send out a gratuitous ARP to aid in invalidating other devices switch tables that it may have been connected to prior.
 - Lecture 4 Key Topics:
   - IPv4:
    - Classful / CIDR addressing
    - ARP & ARP Table
    - Fragmentation
    - Routing
    - Ping / Traceroute
  - Lecture 5 Key Topics:
    - IP Routing
    - Forwarding/ Routing Tables
    - RIP/OSPF
    - BGP
    - VLAN
  - Lecture 6 Key Topics:
    - AS Numbers
    - Exterior Routing - BGP
    - IPv6
 - Ethernet: Single broadcast domain, many collision domains
 - VLANS:
   - In a VLAN-ed network the "top" router acts as a switch, and you logically assign the lower switch ports to VLANs (VLAN Tags/Numbers)
   - "Lower" switches assign VLAN tag to Ethernet frames, and normal forwarding ensues, but only withing the VLAN Tag/color/number
 - IP:
   - TTL in IP packet stop IP Loops
   - "Make all networks equal"
   - Unreliable Datagram protocol
   - HDLC, PPP, Token Ring are old layer 2 networks that Ethernet extinct-i-fied
   - IP vs. Ethernet (Section 2 32:39)
   - Classful & Classless (CIDR):
    - Classful
     - Class A, Class B, Class C
      - 2^24 hosts per subnet, 2^16 hosts per subnet, 2^8 hosts per subnet
     - Led to the "Goldilocks Problem":
      - If you had a need for 500 IP addresses, you're forced to use class B, but its very wasteful.
      - Variable Netmasks: Solved this problem, but you can no longer calculate subnets based on IP alone (this leads to CIDR notation)
      - With the granularinry of variable netmasks the internet was saved! And Ip block could be allocated much less wastefully!
    - Subnet/IP math (Section 2 43:13)
     - <img width="284" alt="screen shot 2018-07-14 at 9 08 33 am" src="https://user-images.githubusercontent.com/5629547/42724719-860c56ec-8745-11e8-9b90-0f64b687006d.png">
     - **QUIZ Question: "Are these two IP addresses on the same subnet?"**
      - <img width="283" alt="screen shot 2018-07-14 at 9 12 28 am" src="https://user-images.githubusercontent.com/5629547/42724763-11ba88bc-8746-11e8-9f0c-cf0df8d2d0c6.png">
 - ARP: Map Ethernet(MAC) addresses to IPv4 addresses
   - Samuel Clemens vs. Mark Twain
   - The magic of ARP is that it's asking a very important question: "Who has?"
   - Layer 2 ethernet broadcast address: "Who has IP: xxx?"
 - Fragmentation:
   - IP is trying to make all networks equal
   - Different networks had different MTUs (Maximum transmission units)
   - IP needed to handle this case.
   - An IP packet is able to divide itsself into smaller chunks using the fragmentation fields in the packet (Id/Fragment offset/More Fragments)
   - Reassembly and then pass it up to layer 4
   - Fragmentation creates more opportunities for failure (Section 2 1:09)
   - In IPv6 only the originating host can fragment
 - Routing: 
   - Ping: very basic network debugging (ICMP echo request)
   - Nmap is a useful tool as well
   - All hosts have a Routing and ARP table (Section 2 1:13)
     - Routing tables have more pertinent fields
     - `netstat -rn`
   - ARP table: "How doI talk to my neighbors?"
   - Routing table (Forwarding Table): "How do I talk to the rest of the world?"
   - **Grand Unified Network Theory: Layer 3 & 2 working across networks:** (section 2 1:30)
     - Every Router port has a MAC address
   - `traceroute` is LIT -> Lets you see the hops (generally) to your sepcified destionation
   - `ping` is like Sonar, `traceroute` is like google maps driving directions
   - Routing (forwarding) tables are built with:
    - Interior: RIP & OSPF
      - Within one company or org
    - Exterior: BGP
      - Connecting multiple companies/orgs to the internet backbone
    - Every large company has an AS #, and these numbers are how Exterior protocols create a network mapping of all of the Autonomous Systems in the world.
    - 1 AS # == Many Networks
    - ARIN allocates network blocks
    - You can tell by looking at an ip now where geographically it comes from
    - ARIN reached IPv4 depletion
    - The internet needs to be saved!
      - Here comes IPv6 and NAT-ing!!!

## Lecture 8:

- Most if not all modern devices are running IPv6. But when you talk to something on the larger net, it will most likely be IPv4 due to lack of support from intermediary networks.
- Is IPv6 gonna happen? Yes! 10% of traffic is currently!
- Cellular networks had the foresight to be IPv6
- IPv6:
	- Expanded addressing capabilities. 128 bits, improved auto configuration, anycast addresses etc.
	- Simplified header format
	- Better support for options and extensions
	- Capability for Flow Labelling is added
	- Added auth and privacy capabilitites
	- Link local: (replaces private IP with the FE80)
	- How is multicast handled?
- **QUIZ**
    - Know what the IPv4/IPv6/Ethernet headers look like
- IPv4 `ping` vs IPv6 `ping`:
	- How does a "dual stack" devices know whether or not to handle an incoming frame with IPv4/IPv6? -> The EtherType (Protocol Type) field in the Ethernet header!
- Address Allocation:
	- <img width="407" alt="screen shot 2018-07-15 at 10 17 02 am" src="https://user-images.githubusercontent.com/5629547/42734827-4af2c66c-8818-11e8-8cb9-1951269eacd0.png">
- Autoomous Systems, ASN, & Routing:
	- Routing Protocol Families:
		- Interior/Exterior
		- (OSPF/RIP)/BGP
	- Harvard has many Autonomous systems (since its been in the business for so long)
	- AS advertise network prefixes
	- BOGON: Somebody ha smisconfigured their routing table and are announcing a prefix they don't own
	- BGP Hijacking: Advertising the wrong prefix could allow for someone else's traffic to be ruted to you. Said traffic would get dropped, because theres no internal network, but the hijack could happen to snoop on the traffic and then re-route it back to its proper place.
- **Transport Layer:**
	- SP3 Protocol framework
		- Service
		- Purpose
		- Packets
		- Procedures
	- **UDP**:
		- <img width="408" alt="screen shot 2018-07-15 at 10 40 02 am" src="https://user-images.githubusercontent.com/5629547/42735022-77087ab4-881b-11e8-99e0-06ff6f659acf.png">
		- Completely unreliable
		- Multiplexing
		- Error detection but not error correction
		- Datagram delivery service (no error correction)
		- Different types of layer 5 protocols in its payload (Port # in the UDP header)
		- The IP header has a Protocol Type in its header (Lecture 8 40:50)
		- Checksums:
			- Ethernet was at the end of the frame
			- IP is in the header
			- UDP is a bit different. It can prevent the misdelivery (Lecture 8 46:00) of packets by creating a pseudo-header that is prefixed to the UDP header. As part of the checksum computation, it pulls in the originator's source and destination address, IP protocol field and the UDP length.
	- **TCP**:
		- <img width="407" alt="screen shot 2018-07-15 at 10 52 41 am" src="https://user-images.githubusercontent.com/5629547/42735154-3ad6f0c8-881d-11e8-9e89-d2b0adc5f343.png">
		- Reliable, connection-oriented, sequenced delivery of packets/payloads
		- TCP is quite complicated and implementation-specific
		- Window size is directly related to Flow Control
		- Was designed to be incredibly efficient (HELLO vs single bit):
			- <img width="406" alt="screen shot 2018-07-15 at 11 04 09 am" src="https://user-images.githubusercontent.com/5629547/42735260-d381612c-881e-11e8-8ff4-a0f245ffb302.png">
		- <img width="406" alt="screen shot 2018-07-15 at 11 04 52 am" src="https://user-images.githubusercontent.com/5629547/42735263-f0684d0a-881e-11e8-80e8-ff8d1ab06578.png">
		- Sequence numbers are very important and they keep track of bytes not packets
		- Sequence numbers start with a pseudo-random value for security purposes (if everyone started at 0 it would be easier to spoof)
		- **Full duplex**
		- Three way handshake:
			- <img width="282" alt="screen shot 2018-07-15 at 11 08 16 am" src="https://user-images.githubusercontent.com/5629547/42735298-6fe12192-881f-11e8-8320-57a461e91c0b.png">
		- The amount of data that can be sent between two devices is determined by the reciever
		- Byte Stream functionality
		- TCP sends data in segments (MSS max segment size) is negotiated during connection setup
		- MSS is dependant on the size of the MTU
		- **TCP segments can arrive out of order!**
			- The recieving application sees the segments in the proper order. It never knows if they're out of order. There is a buffer at reciever's TCP layer that segments are held in until order is ensured.
		- TCP Congestion Control (Flow control):
			- "Slow start" (this is a misnomer)
			- <img width="404" alt="screen shot 2018-07-15 at 11 24 37 am" src="https://user-images.githubusercontent.com/5629547/42735433-b99e795e-8821-11e8-861e-e28b42ce39fc.png">
			- <img width="405" alt="screen shot 2018-07-15 at 11 25 56 am" src="https://user-images.githubusercontent.com/5629547/42735441-e118f374-8821-11e8-828c-947c51d89829.png">
			- Additive increase: At a certain point one of the many constraints (Flow Control window size, Host says: "Maybe I'm sending too much") will be encroached upon so the exponential increase stops and growth of rate of segments being sent becomes linear.
			- If there is a loss, then the # of segments being sent drops and this growth starts again.
			- 

	











